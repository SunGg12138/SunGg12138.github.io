<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>挖矿石</title>
	<link rel="stylesheet" href="css/animate.css">
	<link rel="stylesheet" href="css/css.css">
	<script src="js/jquery.min.js"></script>
	<script src="js/section/Treasures.js"></script>
	<script src="js/section/ropeChange.js"></script>
	<script src="js/section/gameLoop.js"></script>
	<script src="js/support.js"></script>
	<script src="js/index.js"></script>
</head>
<body>
	<div id="main">
		<div class="rope" id="rope" style="height: 100px;">
			<div class="hook"></div>
		</div>
	</div>
	<h1>黄金矿工（请按 K 键）</h1>
	<script>
		var stopLoop = true;
		function stopGameLoop() {
			stopLoop = true;
		}
		var nowHeight;   //绳子的长度
		var $rope = $('#rope');
		var $body = $(document.body);
		var $main = $('#main');
		var mainW = $main.width();
		var mainH = $main.height();
		var config = {
			ropeHeight: 100,
			maxHeight: mainH * 0.8,
			hookHeight: 20,
			treasure: {}
		};
		$body.keydown(function(e){
			e.preventDefault();
			if (e.key === 'k' && stopLoop) {
				ropeHit();
			};
		});
		$body.keydown(function(e){
			e.preventDefault();
			if (e.key === 's') {
				stopGameLoop();
			};
		});
		// 开始
		$rope[0].style.height = config.ropeHeight + 'px';
		var treasures = new Treasures();
		ropeRotate();
		treasures.init();
	</script>
</body>
</html>